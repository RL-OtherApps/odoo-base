<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <record id="view_partner_form_activity_field" model="ir.ui.view"> <!-- id = namn som används vid referering till recorden, model = odoo-modell som den beskriver -->
        <field name="name">res.partner.activity_field</field> <!-- mitt namn på min modul -->
        <field name="model">res.partner</field> 
        <field name="inherit_id" ref="base.view_partner_form" /> <!-- ref = record id för det jag ärver från -->
        <field name="arch" type="xml"> 
           
            <xpath expr="//page[@name='internal_notes']" position="after">
                <page string="Activity">
                    <group>
                      <field name="activities_ids" mode="tree" nolabel="1">
                        <tree editable="bottom" string="Timesheet Activities" default_order="date">
                           <field name="name" />    
                            <field name="meeting_type"/>
                            <field name="start_date"/>
                            <field name="duration" widget="timesheet_uom"/> 
                            <field name="notes"/> 
                            <field name="location"/>  
                        </tree>
                      </field>
                    
                    </group>
                </page>
            </xpath>
            <div name="button_box" position="inside">
                <button string="Activities" name="open_partner_activities" type="object" class="oe_stat_button">
                </button>
            </div>
        </field>
    
     </record>
       <record id="action_activities" model="ir.actions.act_window">
        <field name="name">Activities</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner.activity</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban</field>

        

    </record> 

    <menuitem id="activities_root" name="Activities" sequence="5"/>
    <menuitem id="activities_kanban" name="Activities" parent="activities_root" action="action_activities"/> <!--  -->

    <!-- 
        
        context eller domain 
        gör knapp i res.partner som pekar på en action, jämför med calendar event knapp
        gör en kanban, list och kalender vy

        för button ärv in på div name=button_box 

        visa upp count, computed field som använder len på ids

        flytta menyn till acivity field

        koppla till calendar event

        tänk på search för specifika fält, och grupperingar (domän) på allt möjligt, filter, sökrecord i action record

    -->
</odoo>