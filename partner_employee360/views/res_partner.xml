<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
  <record id="view_partner_form_employee360" model="ir.ui.view">
    <field name="name">res.partner.employee360</field>
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_partner_form" />
    <field name="arch" type="xml"> 

     <!-- TODO: 
     
      vid sökning heter administrative officer (user_id) fortfarande säljare, kanske ska ändra genom 
      en translation fil eller på liknande sätt så att alla instanser av säljare blir till handläggare
      alternativt byta ut fältet helt.
      -->   
      <field name="function" position="after"> 
     
        <field name="work_phone"/>
        <field name="available_since"/>
               
      </field>

     

      <xpath expr="//group[@name='sale']/field[@name='user_id']" position="attributes">
        <attribute name="string">Administrative officer</attribute>
      </xpath>

<!-- label har fel utseende och fältet är för kort och har ingen divider på det sätt som normala fält har-->
      <field name="type" position="before">
      
        <field name="customer_nr"/>
        <span>
        <label for="org_or_social_sec_nr" string="Organization number" attrs="{'invisible':[('is_company', '=', False)]}"/>
        <label for="org_or_social_sec_nr" string="Social security number" attrs="{'invisible':[('is_company', '=', True)]}"/>
        </span>
        
        <field name="org_or_social_sec_nr" nolabel="1"/> 
        
        <field name="cfar" attrs="{'invisible':[('is_company', '=', False)]}"/>
      </field>
    
      <field name="barcode" position="after">
        
        <field name="office" options="{'no_create_edit': True}" domain="[('type', '=', 'af office')]"/>
      </field>
      

      <!-- endast för om is_customer är true-->
      <field name="vat" position="after">
        <field name="customer_nr" attrs="{'invisible':[('customer', '=', False)]}"/>  <!--  -->
      </field>






      <field name="vat" position="attributes">
               <attribute name="invisible">1</attribute>
      </field>
      <field name="image" position="attributes">
               <attribute name="invisible">1</attribute>
      </field>
      <field name="barcode" position="attributes"> 
               <attribute name="invisible">1</attribute>
      </field>
    </field>
  </record>

 <!-- endast när account är installerad
   <record id="view_partner_property_form_employee360" model="ir.ui.view"> 
    <field name="name">res.partner.property.form.inherit.employee360</field> 
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="account.view_partner_property_form" /> 
    <field name="arch" type="xml"> 
       <xpath expr="//group[@name='fiscal_information']" position="attributes">
         <attribute name="invisible">1</attribute>
      </xpath> 

        <xpath expr="//page[@name='accounting']" position="attributes">
         <attribute name="invisible">1</attribute>
      </xpath> 
    </field>
  </record>
-->
  <record id="view_partner_tree_employee360" model="ir.ui.view"> 
    <field name="name">res.partner.tree.inherit.employee360</field> 
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_partner_tree" /> 
    <field name="arch" type="xml"> 
      <xpath expr="/tree" position="inside">

        <field name="customer_nr"/>

    
      </xpath>
    </field>
  </record>


  <record id="view_partner_select_employee360" model="ir.ui.view"> 
    <field name="name">res.partner.select.inherit.employee360</field> 
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_res_partner_filter" /> 
    <field name="arch" type="xml"> 
      <xpath expr="//field[@name='user_id']" position="after">
        
        <field name="customer_nr" />

        <!--        filter_domain="[('customer','=',True), ('parent_id', '=', False)]" --> <!-- kommenterad för att jag inte har någon customer, behöver testas -->
    
      </xpath>
    </field>
  </record>


<!-- gör inget, tanken är att försöka få den där lilla neråt pilen -->

  <!-- <record id="view_partner_filter_employee360" model="ir.ui.view">
    <field name="name">res.partner.select.employee360</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
        <search string="Search Test">
            <field name="customer_nr" />
       </search>
    </field>
</record> -->




</odoo>