<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
  <record id="view_partner_form_employee360" model="ir.ui.view">
    <field name="name">res.partner.employee360</field>
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_partner_form" />
    <field name="arch" type="xml"> 

     <!-- TODO: 
      kolla om jag kan byta databas för allt är broken.
      ta bort Skattemässig information - hitta dens namn 
      ändra ordning på adressfältet till postnr, ort, kommun - hur? 
      CFAR - centralt arbetsgivarregister nummer, arbetsplatsnummer, kolla upp på SCB,   
      ta bort fakturering - det läggs till av annan modul, så modifiera den? 

      vid sökning heter administrative officer fortfarande säljare, kanske ska ändra genom 
      en translation fil eller på liknande sätt så att alla instanser av säljare blir till handläggare
      alternativt byta ut fältet helt.
      -->   
      <field name="function" position="after"> 
     
        <field name="office_name"/> 
        <field name="work_phone"/>
        <field name="available_since"/>
               
      </field>

     

      <xpath expr="//group[@name='sale']/field[@name='user_id']" position="attributes">
        <attribute name="string">Administrative official</attribute>
      </xpath>

<!--t-att-string="'Social security number' if is_company else 'Organization number'"-->
      <field name="vat" position="before">
        <label for="org_or_social_sec_nr" string="Organization number" attrs="{'invisible':[('is_company', '=', False)]}"/>
        <label for="org_or_social_sec_nr" string="Social security number" attrs="{'invisible':[('is_company', '=', True)]}"/>
        <field name="org_or_social_sec_nr" position="attributes">
          <attribute name="string"> </attribute>
        </field>
      </field>
    
      <field name="barcode" position="after">
        <field name="sni_code"/>
      </field>
      

      <!-- endast för om is_customer är true-->
      <field name="vat" position="after">
        <field name="customer_nr" attrs="{'invisible':[('customer', '=', False)]}"/>  <!--  -->
      </field>






      <field name="vat" position="attributes">
               <attribute name="invisible">1</attribute>
      </field>
      <field name="image" position="attributes">
               <attribute name="invisible">1</attribute>
      </field>
      <field name="barcode" position="attributes"> 
               <attribute name="invisible">1</attribute>
      </field>
    </field>
  </record>

  <record id="view_partner_property_form_employee360" model="ir.ui.view"> 
    <field name="name">res.partner.property.form.inherit.employee360</field> 
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="account.view_partner_property_form" /> 
    <field name="arch" type="xml"> 
       <xpath expr="//group[@name='fiscal_information']" position="attributes">
         <attribute name="invisible">1</attribute>
      </xpath> 
    </field>
  </record>

  <record id="view_partner_tree_employee360" model="ir.ui.view"> 
    <field name="name">res.partner.tree.inherit.employee360</field> 
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_partner_tree" /> 
    <field name="arch" type="xml"> 
      <xpath expr="/tree" position="inside">

        <field name="customer_nr"/>

    
      </xpath>
    </field>
  </record>


  <record id="view_partner_select_employee360" model="ir.ui.view"> 
    <field name="name">res.partner.select.inherit.employee360</field> 
    <field name="model">res.partner</field> 
    <field name="inherit_id" ref="base.view_res_partner_filter" /> 
    <field name="arch" type="xml"> 
      <xpath expr="//field[@name='user_id']" position="after">

        <field name="customer_nr" filter_domain="[('customer','=',True), ('parent_id', '=', False), ('customer_nr', '=', 'something')]"/>

    
      </xpath>
    </field>
  </record>


</odoo>